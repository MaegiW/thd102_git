<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>
<body>
    <h3>登入</h3>

    帳號：
    <input type="text" name="account" id="account">
    密碼：
    <input type="text" name="password" id="password">
    <input type="button" value="送出" onclick="doSubmit()">

    <p>結果: <br>
    <span id="result"></span></p> 
    
    
    <script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jque
	ry.min.js">
	</script>

    
    <script>

function doSubmit() {
            var account = $('#account').val();
            var password = $('#password').val();

            $.ajax({
                type: 'POST',
                url: './login.php', // 修改为你的处理登录的PHP文件路径
                data: {
                    account: account,
                    password: password
                },
                success: function(response) {
                    var resultSpan = $('#result');
                    var responseData = JSON.parse(response);
                    resultSpan.text(responseData.message);
                },
                error: function() {
                    var resultSpan = $('#result');
                    resultSpan.text('请求失败');
                }
            });
        }
        // function doSubmit(){
        //     //input your code
        //     let acc_el = document.getElementById('account').value;
        //     let psw_el = document.getElementById('password').value;

        //     document.getElementById("result").innerHTML = "";

        //     if(acc_el != "" && psw_el != ""){
        //         // IE7+, Firefox, Chrome, Opera, Safari 瀏覽器執行程式碼
        //         xmlhttp = new XMLHttpRequest();

        //         xmlhttp.onreadystatechange = function(){
        //         //判斷XMLHttpRequest是否發送成功
        //         if (xmlhttp.readyState == 4 && xmlhttp.status == 200){
        //             //更新html內容
        //             document.getElementById("result").innerHTML = xmlhttp.responseText;
        //             }
        //         }

        //         //get
        //         /* xmlhttp.open("GET", "API.php?account=" + str);
        //         xmlhttp.send(); */

        //         //post
        //         xmlhttp.open("POST", "login.php"); //like form
        //         //若使用POST需額外設定RequestHeader(GET不用)
        //         xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        //         //雖透過POST傳值，仍須使用字串方式傳遞
        //         xmlhttp.send("account=" + acc_el + "&psw=" + psw_el);
        //     }else{
        //         alert("請輸入帳號密碼!");
        //     }


        // }
    </script>
    
</body>
</html>