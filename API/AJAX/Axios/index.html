<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>

<h3>AJAX(Axios)方式 - 連線PDO練習的Table: member</h3>
關鍵字: <input type="text" onkeyup="doQuery(this.value)" />
<p>結果: <br>
<span id="result"></span></p> 



	<script
	src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script>
		function doQuery(str){
			document.getElementById("result").innerHTML='<img src="../Loading.gif" alt="">';
			//input your code...
			//將要傳送的內容封裝成FormData
			var fd = new FormData();
			fd.append('account', str);
			//POST請求
			axios.post('API.php', fd)
			.then(function (response) {
			//更新html內容(跑迴圈解析json)
			var msg = "";
			response.data.forEach((row, index) => {
			msg += row.Account + "/" + row.PWD + "/" + row.CreateDate + "<br/>";
			})
			//更新html內容
			document.getElementById("result").innerHTML = msg;
			})
			.catch(function (error) {
			console.log(error);
			});
			}
	</script>
</body>
</html>